import random

from atom.api import Atom, List, ContainerList
from enaml.widgets.api import Window, Container, Label, PushButton

from psi.core.enaml.list_view import ListView


class Selector(Atom):

    items = List()

    def _observe_items(self, event):
        print(event)


enamldef Main(Window):

    attr selector = Selector(items=['a', 'b', 'c'])

    Container:
        ListView: list_view:
            items << selector.items
            updated::
                selector.items = list_view.items[:]

        PushButton:
            text = 'Change items'
            clicked::
                selector.items = \
                    [random.choice('abcdefghijklmnopqrstuvwxyz') for i in range(3)]

        PushButton:
            text = 'Print items'
            clicked::
                print(selector.items)
